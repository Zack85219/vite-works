import{_ as P,J as k,a as x,m as I,r as l,o as u,c as p,d as g,b as t,n as c,f as n,F as _,k as C,t as h,w as V,e as L,p as T,h as S}from"./index-56446f1c.js";import{P as A}from"./PaginationView-dc5f0d8c.js";import{c as E}from"./cart-c0253a7d.js";import{c as R}from"./toCategory-657f671c.js";const{VITE_API_URL:b,VITE_API_PATH:v}={VITE_API_URL:"https://vue3-course-api.hexschool.io/v2",VITE_API_PATH:"59487@@",BASE_URL:"/vite-works/",MODE:"production",DEV:!1,PROD:!0},U={data(){return{products:[],status:{loadingItem:""},page:{},isLoading:!1,category:""}},components:{RouterLink:k,PaginationView:A},methods:{getProducts(i=1,e=""){const a=`${b}/api/${v}/products?page=${i}&category=${e}`;this.isLoading=!0,this.$http.get(a).then(d=>{this.isLoading=!1,this.products=d.data.products,this.page=d.data.pagination,this.category=e}).catch(d=>{this.isLoading=!1,console.log(d.data)}),setTimeout(function(){window.scrollTo(0,0)},300)},addToCart(i){const e={product_id:i,qty:1};this.status.loadingItem=i,this.$http.post(`${b}/api/${v}/cart`,{data:e}).then(a=>{console.log(a.data),this.status.loadingItem="",this.$httpMessageState(a,"加入購物車"),this.getCartInfo()}).catch(a=>{console.log(a.message)})},...x(E,["getCartInfo"])},mounted(){this.getProducts(1,this.continent)},computed:{...I(R,["continent"])}},m=i=>(T("data-v-bbb13e88"),i=i(),S(),i),j={class:"container my-5"},B={class:"allGroup row"},D={class:"listWrap col-2"},M={class:"list-group border border-primary border-1"},N=m(()=>t("div",{class:"col-2"},null,-1)),z={class:"d-flex justify-content-end col-5"},F={class:"row g-0"},H={class:"col-md-4"},O=["src"],q={class:"col-md-8"},G={class:"card-body"},J={class:"card-title"},W={class:"card-text"},K={class:"d-flex justify-content-start ms-3 w-100"},Q=m(()=>t("p",{class:"connectTo"},"繼續閱讀",-1)),X={class:"d-flex justify-content-end mx-3 my-3"},Y=["onClick","disabled"],Z=m(()=>t("i",{class:"bi bi-cart me-2"},null,-1));function $(i,e,a,d,s,r){const y=l("VueLoading"),f=l("RouterLink"),w=l("PaginationView");return u(),p(_,null,[g(y,{active:s.isLoading,"z-index":1060},null,8,["active"]),t("div",j,[t("div",B,[t("div",D,[t("div",M,[t("a",{href:"#",class:c(["list-group-item list-group-item-action list-group-item-white border border-primary border-1",{active:s.category===""}]),"aria-current":"true",onClick:e[0]||(e[0]=n((...o)=>r.getProducts&&r.getProducts(...o),["prevent"]))}," 全部 ",2),t("a",{href:"#",class:c(["list-group-item list-group-item-action list-group-item-white border border-primary border-1",{active:s.category==="北美洲小說"}]),onClick:e[1]||(e[1]=n(o=>r.getProducts(1,"北美洲小說"),["prevent"]))},"北美洲小說",2),t("a",{href:"#",class:c(["list-group-item list-group-item-action list-group-item-white border border-primary border-1",{active:s.category==="南美洲小說"}]),onClick:e[2]||(e[2]=n(o=>r.getProducts(1,"南美洲小說"),["prevent"]))},"南美洲小說",2),t("a",{href:"#",class:c(["list-group-item list-group-item-action list-group-item-white border border-primary border-1",{active:s.category==="歐洲小說"}]),onClick:e[3]||(e[3]=n(o=>r.getProducts(1,"歐洲小說"),["prevent"]))},"歐洲小說",2),t("a",{href:"#",class:c(["list-group-item list-group-item-action list-group-item-white border border-primary border-1",{active:s.category==="亞洲小說"}]),onClick:e[4]||(e[4]=n(o=>r.getProducts(1,"亞洲小說"),["prevent"]))},"亞洲小說",2),t("a",{href:"#",class:c(["list-group-item list-group-item-action list-group-item-white border border-primary border-1",{active:s.category==="非洲小說"}]),onClick:e[5]||(e[5]=n(o=>r.getProducts(1,"非洲小說"),["prevent"]))},"非洲小說",2),t("a",{href:"#",class:c(["list-group-item list-group-item-action list-group-item-white border border-primary border-1",{active:s.category==="大洋洲小說"}]),onClick:e[6]||(e[6]=n(o=>r.getProducts(1,"大洋洲小說"),["prevent"]))},"大洋洲小說",2)])]),N,t("div",z,[t("table",null,[t("tbody",null,[(u(!0),p(_,null,C(s.products,o=>(u(),p("div",{class:"card mb-3 bg-black text-white border border-primary border-1",style:{"min-width":"600px"},key:o.id},[t("div",F,[t("div",H,[t("img",{src:o.imageUrl,alt:"",width:"200",class:"mx-auto d-block"},null,8,O)]),t("div",q,[t("div",G,[t("h5",J,h(o.title),1),t("p",W,h(o.content),1)]),t("div",K,[g(f,{to:`/product/${o.id}`,class:"text-white-50"},{default:V(()=>[Q]),_:2},1032,["to"])]),t("div",X,[t("button",{class:"btn btn-outline-primary py-2 d-flex",onClick:tt=>r.addToCart(o.id),disabled:s.status.loadingItem===o.id},[Z,L(" 加入購物車 ")],8,Y)])])])]))),128))])])]),g(w,{class:"my-5 d-flex justify-content-center col-12",pages:s.page,"get-product":r.getProducts},null,8,["pages","get-product"])])])],64)}const it=P(U,[["render",$],["__scopeId","data-v-bbb13e88"]]);export{it as default};
