import{_,a as p,r as h,o as g,c as m,d as v,b as t,e as i,t as d,F as f,p as I,h as b}from"./index-b9757bf8.js";import{c as x}from"./cart-5bfdd33d.js";const{VITE_API_URL:l,VITE_API_PATH:a}={VITE_API_URL:"https://vue3-course-api.hexschool.io/v2",VITE_API_PATH:"59487@@",BASE_URL:"/vite-works/",MODE:"production",DEV:!1,PROD:!0},V={data(){return{product:{},status:{loadingItem:""},isLoading:!1}},methods:{getProduct(){const{id:s}=this.$route.params;this.isLoading=!0,this.$http(`${l}/api/${a}/product/${s}`).then(e=>{this.product=e.data.product,this.isLoading=!1}).catch(e=>{console.log(e.message),this.isLoading=!1})},addToCart(s){const e={product_id:s,qty:1};this.status.loadingItem=s,this.$http.post(`${l}/api/${a}/cart`,{data:e}).then(n=>{console.log(n.data),this.status.loadingItem="",this.$httpMessageState(n,"加入購物車"),this.getCartInfo()}).catch(n=>{console.log(n.message)})},...p(x,["getCartInfo"])},mounted(){this.getProduct()}},c=s=>(I("data-v-c7b63ccd"),s=s(),b(),s),P={class:"container d-flex mx-auto my-5"},L={class:"w-50 d-flex justify-content-center"},y=["src"],T={class:"w-50 d-flex-column"},A=c(()=>t("b",null,"作品",-1)),E=c(()=>t("b",null,"作者",-1)),w=c(()=>t("b",null,"小說誕生地",-1)),S=c(()=>t("b",null,"小說簡介",-1)),C=c(()=>t("b",null,"價格",-1)),k=["disabled"],B=c(()=>t("i",{class:"bi bi-cart me-2"},null,-1)),D=c(()=>t("div",null,"加入購物車",-1)),R=[B,D];function U(s,e,n,N,o,u){const r=h("VueLoading");return g(),m(f,null,[v(r,{active:o.isLoading,"z-index":1060},null,8,["active"]),t("div",P,[t("div",L,[t("img",{src:o.product.imageUrl,alt:"",class:"img-fluid",width:"200"},null,8,y)]),t("div",T,[t("div",null,[t("p",null,[A,i(":"+d(o.product.title),1)])]),t("div",null,[t("p",null,[E,i(": "+d(o.product.description),1)])]),t("div",null,[t("p",null,[w,i(": "+d(o.product.category),1)])]),t("div",null,[t("p",null,[S,i(": "+d(o.product.content),1)])]),t("div",null,[t("p",null,[C,i(": "+d(o.product.price),1)])]),t("div",null,[t("button",{class:"btn btn-outline-primary d-flex py-2",onClick:e[0]||(e[0]=$=>u.addToCart(o.product.id)),disabled:o.status.loadingItem===o.product.id},R,8,k)])])])],64)}const M=_(V,[["render",U],["__scopeId","data-v-c7b63ccd"]]);export{M as default};
