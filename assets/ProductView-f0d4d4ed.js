import{_,a as p,r as h,o as g,c as m,d as v,b as t,e as n,t as d,F as I,p as f,h as b}from"./index-0834e0d2.js";import{c as V}from"./cart-8b44ab36.js";const{VITE_API_URL:l,VITE_API_PATH:a}={VITE_API_URL:"https://vue3-course-api.hexschool.io/v2",VITE_API_PATH:"59487@@",VITE_UN:"j33241796@gmail.com",VITE_PW:"Jj741236p",BASE_URL:"/vite-works/",MODE:"production",DEV:!1,PROD:!0},x={data(){return{product:{},status:{loadingItem:""},isLoading:!1}},methods:{getProduct(){const{id:s}=this.$route.params;this.isLoading=!0,this.$http(`${l}/api/${a}/product/${s}`).then(e=>{this.product=e.data.product,this.isLoading=!1}).catch(e=>{console.log(e.message),this.isLoading=!1})},addToCart(s){const e={product_id:s,qty:1};this.status.loadingItem=s,this.$http.post(`${l}/api/${a}/cart`,{data:e}).then(i=>{console.log(i.data),this.status.loadingItem="",this.$httpMessageState(i,"加入購物車"),this.getCartInfo()}).catch(i=>{console.log(i.message)})},...p(V,["getCartInfo"])},mounted(){this.getProduct()}},c=s=>(f("data-v-c7b63ccd"),s=s(),b(),s),P={class:"container d-flex mx-auto my-5"},T={class:"w-50 d-flex justify-content-center"},E=["src"],L={class:"w-50 d-flex-column"},y=c(()=>t("b",null,"作品",-1)),A=c(()=>t("b",null,"作者",-1)),w=c(()=>t("b",null,"小說誕生地",-1)),S=c(()=>t("b",null,"小說簡介",-1)),C=c(()=>t("b",null,"價格",-1)),U=["disabled"],k=c(()=>t("i",{class:"bi bi-cart me-2"},null,-1)),B=c(()=>t("div",null,"加入購物車",-1)),D=[k,B];function N(s,e,i,R,o,u){const r=h("VueLoading");return g(),m(I,null,[v(r,{active:o.isLoading,"z-index":1060},null,8,["active"]),t("div",P,[t("div",T,[t("img",{src:o.product.imageUrl,alt:"",class:"img-fluid",width:"200"},null,8,E)]),t("div",L,[t("div",null,[t("p",null,[y,n(":"+d(o.product.title),1)])]),t("div",null,[t("p",null,[A,n(": "+d(o.product.description),1)])]),t("div",null,[t("p",null,[w,n(": "+d(o.product.category),1)])]),t("div",null,[t("p",null,[S,n(": "+d(o.product.content),1)])]),t("div",null,[t("p",null,[C,n(": "+d(o.product.price),1)])]),t("div",null,[t("button",{class:"btn btn-outline-primary d-flex py-2",onClick:e[0]||(e[0]=j=>u.addToCart(o.product.id)),disabled:o.status.loadingItem===o.product.id},D,8,U)])])])],64)}const H=_(x,[["render",N],["__scopeId","data-v-c7b63ccd"]]);export{H as default};
