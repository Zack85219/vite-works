import{_ as f,q as y,a as w,r,o as c,c as d,d as n,b as t,F as _,j as x,f as I,t as h,w as k,e as P,p as V,g as L}from"./index-f93256b3.js";import{P as A}from"./PaginationView-f6111c00.js";import{c as T}from"./cart-108539c2.js";const{VITE_API_URL:l,VITE_API_PATH:p}={VITE_API_URL:"https://vue3-course-api.hexschool.io/v2",VITE_API_PATH:"59487@@",BASE_URL:"/Vue3-works/",MODE:"production",DEV:!1,PROD:!0},$={data(){return{products:[],status:{loadingItem:""},page:{},isLoading:!1}},components:{RouterLink:y,PaginationView:A},methods:{getProducts(e=1){const a=`${l}/api/${p}/products?page=${e}`;this.isLoading=!0,this.$http.get(a).then(s=>{this.isLoading=!1,this.products=s.data.products,this.page=s.data.pagination}).catch(s=>{this.isLoading=!1,console.log(s.data)})},addToCart(e){const a={product_id:e,qty:1};this.status.loadingItem=e,this.$http.post(`${l}/api/${p}/cart`,{data:a}).then(s=>{console.log(s.data),this.status.loadingItem="",alert("已將此商品加入購物車"),this.getCartInfo()}).catch(s=>{console.log(s.message)})},getTotalPage(){this.$http.get(`${l}/api/${p}/products/all`).then(e=>{this.pagination.total_pages=Math.floor(e.data.products.length/10)+1}).catch(e=>{console.log(e.message)})},...w(T,["getCartInfo"])},mounted(){this.getProducts()}},g=e=>(V("data-v-ac7e249d"),e=e(),L(),e),C={class:"container my-5"},E={class:"allGroup row"},R=I('<div class="listWrap col-2" data-v-ac7e249d><div class="list-group border border-primary border-1" data-v-ac7e249d><a href="#" class="list-group-item list-group-item-action active list-group-item-white" aria-current="true" data-v-ac7e249d> The current link item </a><a href="#" class="list-group-item list-group-item-action list-group-item-white border border-primary border-1" data-v-ac7e249d>A second link item</a><a href="#" class="list-group-item list-group-item-action list-group-item-white border border-primary border-1" data-v-ac7e249d>A third link item</a><a href="#" class="list-group-item list-group-item-action list-group-item-white border border-primary border-1" data-v-ac7e249d>A fourth link item</a><a href="#" class="list-group-item list-group-item-action list-group-item-white border border-primary border-1" data-v-ac7e249d>A fifth link item</a><a href="#" class="list-group-item list-group-item-action list-group-item-white border border-primary border-1" data-v-ac7e249d>A sixth link item</a></div></div><div class="col-2" data-v-ac7e249d></div>',2),S={class:"d-flex justify-content-end col-5"},j={class:"row g-0"},U={class:"col-md-4"},B=["src"],D={class:"col-md-8"},N={class:"card-body"},q={class:"card-title"},F={class:"card-text"},H={class:"d-flex justify-content-start ms-3 w-100"},M=g(()=>t("p",{class:"connectTo"},"繼續閱讀",-1)),O={class:"d-flex justify-content-end mx-3 my-3"},z=["onClick","disabled"],G=g(()=>t("i",{class:"bi bi-cart me-2"},null,-1));function W(e,a,s,J,i,u){const m=r("VueLoading"),b=r("RouterLink"),v=r("PaginationView");return c(),d(_,null,[n(m,{active:i.isLoading,"z-index":1060},null,8,["active"]),t("div",C,[t("div",E,[R,t("div",S,[t("table",null,[t("tbody",null,[(c(!0),d(_,null,x(i.products,o=>(c(),d("div",{class:"card mb-3 bg-black text-white border border-primary border-1",style:{"min-width":"600px"},key:o.id},[t("div",j,[t("div",U,[t("img",{src:o.imageUrl,alt:"",width:"200",class:"mx-auto d-block"},null,8,B)]),t("div",D,[t("div",N,[t("h5",q,h(o.title),1),t("p",F,h(o.content),1)]),t("div",H,[n(b,{to:`/product/${o.id}`,class:"text-white-50"},{default:k(()=>[M]),_:2},1032,["to"])]),t("div",O,[t("button",{class:"btn btn-outline-primary py-2 d-flex",onClick:K=>u.addToCart(o.id),disabled:i.status.loadingItem===o.id},[G,P(" 加入購物車 ")],8,z)])])])]))),128))])])]),n(v,{class:"my-5 d-flex justify-content-center col-12",pages:i.page,"get-product":u.getProducts},null,8,["pages","get-product"])])])],64)}const Z=f($,[["render",W],["__scopeId","data-v-ac7e249d"]]);export{Z as default};
