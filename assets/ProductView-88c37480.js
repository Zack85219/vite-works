import{_,a as p,r as h,o as g,c as m,d as f,b as t,e as i,t as c,F as v,p as I,g as b}from"./index-4cbcf524.js";import{c as x}from"./cart-638ffbaf.js";const{VITE_API_URL:l,VITE_API_PATH:a}={VITE_API_URL:"https://vue3-course-api.hexschool.io/v2",VITE_API_PATH:"59487@@",BASE_URL:"/vite-works/",MODE:"production",DEV:!1,PROD:!0},V={data(){return{product:{},status:{loadingItem:""},isLoading:!1}},methods:{getProduct(){const{id:s}=this.$route.params;this.isLoading=!0,this.$http(`${l}/api/${a}/product/${s}`).then(e=>{this.product=e.data.product,this.isLoading=!1}).catch(e=>{console.log(e.message)})},addToCart(s){const e={product_id:s,qty:1};this.status.loadingItem=s,this.isLoading=!0,this.$http.post(`${l}/api/${a}/cart`,{data:e}).then(d=>{console.log(d.data),this.isLoading=!1,this.status.loadingItem="",alert("已將此商品加入購物車"),this.getCartInfo()}).catch(d=>{console.log(d.message)})},...p(x,["getCartInfo"])},mounted(){this.getProduct()}},n=s=>(I("data-v-9fd05067"),s=s(),b(),s),L={class:"container d-flex mx-auto my-5"},P={class:"w-50 d-flex justify-content-center"},y=["src"],T={class:"w-50 d-flex-column"},A=n(()=>t("b",null,"作品",-1)),E=n(()=>t("b",null,"作者",-1)),w=n(()=>t("b",null,"小說誕生地",-1)),C=n(()=>t("b",null,"小說簡介",-1)),S=n(()=>t("b",null,"價格",-1)),k=["disabled"],B=n(()=>t("i",{class:"bi bi-cart me-2"},null,-1)),D=n(()=>t("div",null,"加入購物車",-1)),R=[B,D];function U(s,e,d,N,o,r){const u=h("VueLoading");return g(),m(v,null,[f(u,{active:o.isLoading,"z-index":1060},null,8,["active"]),t("div",L,[t("div",P,[t("img",{src:o.product.imageUrl,alt:"",class:"img-fluid"},null,8,y)]),t("div",T,[t("div",null,[t("p",null,[A,i(":"+c(o.product.title),1)])]),t("div",null,[t("p",null,[E,i(": "+c(o.product.description),1)])]),t("div",null,[t("p",null,[w,i(": "+c(o.product.category),1)])]),t("div",null,[t("p",null,[C,i(": "+c(o.product.content),1)])]),t("div",null,[t("p",null,[S,i(": "+c(o.product.price),1)])]),t("div",null,[t("button",{class:"btn btn-outline-primary d-flex py-2",onClick:e[0]||(e[0]=F=>r.addToCart(o.product.id)),disabled:o.status.loadingItem===o.product.id},R,8,k)])])])],64)}const $=_(V,[["render",U],["__scopeId","data-v-9fd05067"]]);export{$ as default};
